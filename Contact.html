<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact | L'Etoile Gourmande</title>

  <!-- Polices Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap"
    rel="stylesheet" />

  <!-- CSS principal -->
  <link rel="stylesheet" href="/css/Index-main.css" />

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    crossorigin="anonymous" />

  <!-- reCAPTCHA v3 Enterprise -->
  <script src="https://www.google.com/recaptcha/enterprise.js?render=6Lcr1FsrAAAAAHW8GOw-UxMD-ka4_RPYDg70uIGl" async></script>

  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #fff;
    }

    .logo img {
      height: 72px;
    }

    nav ul {
      display: flex;
      list-style: none;
      padding-left: 0;
      margin: 0;
    }

    nav ul li {
      margin-left: 30px;
    }

    nav ul li:first-child {
      margin-left: 0;
    }

    nav ul li a {
      text-decoration: none;
      font-weight: 500;
      color: #000;
      transition: color 0.3s ease;
    }

    nav ul li a:hover,
    nav ul li a:focus {
      color: #989898;
      outline: none;
    }

    .contact-hero {
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      color: #000;
      text-align: center;
      padding: 0 20px;
    }

    .contact-hero-content {
      position: relative;
      z-index: 1;
      max-width: 600px;
    }

    .contact-hero h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .contact-hero p {
      font-weight: 300;
      font-size: 1.1rem;
      margin: 0;
    }

    .contact-container {
      max-width: 1200px;
      margin: 50px auto;
      padding: 0 20px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
    }

    .contact-info,
    .contact-form {
      padding: 30px;
    }

    .contact-info h2,
    .contact-form h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 30px;
      color: #000;
    }

    .info-item {
      margin-bottom: 25px;
      display: flex;
      align-items: flex-start;
    }

    .info-item i {
      margin-right: 15px;
      color: #000;
      font-size: 1.3rem;
      min-width: 30px;
      text-align: center;
      line-height: 1;
      margin-top: 4px;
    }

    .info-item h3 {
      font-size: 1.1rem;
      margin-bottom: 5px;
    }

    .info-item p {
      margin: 0;
      font-weight: 300;
      line-height: 1.4;
    }

    .contact-form {
      background: #f9f9f9;
      border-radius: 5px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      resize: vertical;
      box-sizing: border-box;
    }

    .form-group textarea {
      height: 150px;
    }

    .submit-btn {
      background: #000;
      color: white;
      border: none;
      padding: 12px 30px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
      border-radius: 4px;
      display: inline-block;
    }

    .submit-btn:hover,
    .submit-btn:focus {
      background: #989898;
      outline: none;
    }

    .opening-hours {
      margin-top: 10px;
    }

    .day-row {
      display: flex;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }

    .day-row:last-child {
      border-bottom: none;
    }

    .day {
      width: 100px;
      font-weight: 500;
    }

    .hours {
      flex: 1;
      text-align: right;
      padding-right: 15px;
      font-weight: 300;
    }

    .status {
      font-size: 0.85rem;
      width: 80px;
      font-weight: 600;
    }

    .status.open {
      color: #4caf50;
    }

    .status.closed {
      color: #f44336;
    }

    .status::before {
      content: "●";
      margin-right: 5px;
      font-size: 0.7rem;
      vertical-align: middle;
    }
    .numero-tel {
    color: #000;       /* Noir */
    font-weight: bold; /* Texte en gras */
    text-decoration: none; /* Optionnel : enlever le soulignement du lien */
}


    .grolet-footer {
      background: #f5f5f5;
      padding: 50px 20px 20px;
      font-family: 'Montserrat', sans-serif;
      text-align: center;
      font-size: 0.9rem;
      color: #666;
    }

    .footer-legal a {
      color: inherit;
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .contact-container {
        grid-template-columns: 1fr;
      }

      .contact-hero h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="logo">
      <img src="images/logo/logo halal.png" alt="Logo L'Etoile Gourmande" />
    </div>
    <nav aria-label="Menu principal">
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="#" aria-disabled="true" tabindex="-1" title="Page en construction">À propos</a></li>
        <li><a href="Contact.html" aria-current="page">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="contact-hero" aria-label="Bannière contact">
      <div class="contact-hero-content">
        <h1>Contactez-nous</h1>
        <p>Nous sommes à votre écoute pour toutes vos questions</p>
      </div>
    </section>

    <section class="contact-container">
      <article class="contact-info" aria-labelledby="infos-pratiques">
        <h2 id="infos-pratiques">Informations pratiques</h2>

        <div class="info-item">
          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
          <div>
            <h3>Adresse</h3>
            <address>30 Rue du Four<br />94100 Saint-Maur-des-Fossés</address>
          </div>
        </div>

        <div class="info-item">
          <i class="fas fa-phone-alt" aria-hidden="true"></i>
          <div>
          <h3>Téléphone</h3>
            <p><a href="tel:+33984544886" aria-label="Téléphoner au 09 84 54 48 86" class="numero-tel">09 84 54 48 86</a></p>
          </div>
        </div>

        <div class="info-item">
          <i class="fas fa-clock" aria-hidden="true"></i>
          <div>
            <h3>Horaires d'ouverture</h3>
            <div class="opening-hours">
              <div class="day-row"><span class="day">Lundi</span><span class="hours">07:00 – 21:30</span><span
                  class="status open">Ouvert</span></div>
              <div class="day-row"><span class="day">Mardi</span><span class="hours">07:00 – 21:30</span><span
                  class="status open">Ouvert</span></div>
              <div class="day-row"><span class="day">Mercredi</span><span class="hours">07:00 – 21:30</span><span
                  class="status open">Ouvert</span></div>
              <div class="day-row"><span class="day">Jeudi</span><span class="hours">07:00 – 21:30</span><span
                  class="status open">Ouvert</span></div>
              <div class="day-row"><span class="day">Vendredi</span><span class="hours">07:00 – 21:30</span><span
                  class="status open">Ouvert</span></div>
              <div class="day-row"><span class="day">Samedi</span><span class="hours">07:00 – 21:30</span><span
                  class="status open">Ouvert</span></div>
              <div class="day-row"><span class="day">Dimanche</span><span class="hours">Fermé</span><span
                  class="status closed">Fermé</span></div>
            </div>
          </div>
        </div>

        <div class="info-item">
          <i class="fas fa-info-circle" aria-hidden="true"></i>
          <div>
            <h3>Informations importantes</h3>
            <p>Commande pour retrait en magasin uniquement.</p>
          </div>
        </div>
      </article>

      <article class="contact-form" aria-labelledby="form-contact">
        <h2 id="form-contact">Envoyez-nous un message</h2>
        <form id="contactForm" aria-describedby="formMessage" novalidate>
          <div class="form-group">
            <label for="name">Nom complet</label>
            <input type="text" id="name" name="name" required aria-required="true" />
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required aria-required="true" />
          </div>

          <div class="form-group">
            <label for="subject">Sujet</label>
            <input type="text" id="subject" name="subject" required aria-required="true" />
          </div>

          <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" required aria-required="true"></textarea>
          </div>

          <button type="submit" class="submit-btn">Envoyer le message</button>
        </form>

        <p id="formMessage" role="alert" aria-live="polite" style="margin-top: 10px;"></p>
      </article>
    </section>
  </main>

  <footer class="grolet-footer" role="contentinfo">
    <div class="footer-legal">
      <p>© 2025 L'Etoile Gourmande | <a href="#" aria-label="Mentions légales">Mentions légales</a> | <a href="#" aria-label="Politique de confidentialité">Politique de confidentialité</a></p>
    </div>
  </footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contactForm');
    const formMessage = document.getElementById('formMessage');

    form.addEventListener('submit', async (event) => {
      event.preventDefault();

      formMessage.textContent = '';
      formMessage.style.color = 'black';

      if (!form.checkValidity()) {
        formMessage.textContent = 'Merci de remplir tous les champs correctement.';
        formMessage.style.color = 'red';
        return;
      }

      const formData = {
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        subject: form.subject.value.trim(),
        message: form.message.value.trim(),
      };

      if (!formData.name || !formData.email || !formData.subject || !formData.message) {
        formMessage.textContent = 'Tous les champs sont obligatoires.';
        formMessage.style.color = 'red';
        return;
      }

      try {
        const token = await grecaptcha.enterprise.execute('6Lcr1FsrAAAAAHW8GOw-UxMD-ka4_RPYDg70uIGl', { action: 'contact_form' });

        // Ici on change la clé en 'recaptchaToken' pour matcher le backend
        formData['recaptchaToken'] = token;

        const response = await fetch('https://etoile-gourmande-one.vercel.app/api/contact.js', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData),
        });

        if (!response.ok) {
          throw new Error(`Erreur serveur: ${response.statusText}`);
        }

        const data = await response.json();

        if (data.success) {
          formMessage.textContent = 'Merci pour votre message, nous vous répondrons rapidement.';
          formMessage.style.color = 'green';
          form.reset();
        } else {
          formMessage.textContent = data.message || 'Une erreur est survenue. Veuillez réessayer.';
          formMessage.style.color = 'red';
        }
      } catch (error) {
        formMessage.textContent = 'Erreur lors de l’envoi du message. Veuillez réessayer plus tard.';
        formMessage.style.color = 'red';
        console.error(error);
      }
    });
  });
 </script>
 </body>
</html> 
